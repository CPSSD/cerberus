<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="stylesheet.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="dashboard.js"></script>
</head>

<body>
  <div class="header">
    <h2>Cluster Dashboard</h2>
  </div>

  <div class="box">Workers
    <div class="container-grid" id="workers"></div>
  </div>

  <div class="lower">
    <div class="row">
      <div class="column">Jobs
        <div class="container-grid" id="jobs"></div>
      </div>
      <div class="column">Tasks
        <div class="container-grid" id="tasks"></div>
      </div>
    </div>
    <div class="logs">Master Logs
      <div class="logs-copy-div">
        <button class="button" onClick="copyMasterLogs()">Copy To Clipboard</a>
      </div>
      <div class="logs-scroll">
        <p class="logs-text" id="master-logs"></p>
      </div>
    </div>
  </div>

  <div class="schedule-button" onClick="toggleScheduleForm()">
    <p>Schedule MapReduce</p>
  </div>

  <div class="hidden-form" id="schedule-form">
    <a class="exit-form" onclick="toggleScheduleForm()">&times;</a>
    <div class="schedule-form">Schedule MapReduce
      <hr>
      <form id="schedule-job">
        <label for="binary">Binary</label>
        <input type="text" id="binary" name="binary_path" placeholder="Binary path..">

        <label for="input">Input</label>
        <input type="text" id="input" name="input_directory" placeholder="Input directory..">

        <label for="output">Output [Optional]</label>
        <input type="text" id="output" name="output_directory" placeholder="Output directory..">

        <label for="priority">Priority [Optional]</label>
        <select id="priority" name="job_priority">
          <option value="">Default</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>

        <label for="map_size">Map Size [Optional]</label>
        <input type="text" id="map_size" name="map_size" placeholder="Map task size (in megabytes)...">

        <input type="submit" id="submit-job" value="Schedule MapReduce">
      </form>
    </div>
  </div>

  <div class="hidden-logs" id="worker-logs">
    <div class="worker-logs-copy-div" id="worker-logs-copy">
      <button class="button" onClick="copyWorkerLogs()">Copy To Clipboard</a>
    </div>
    <a class="exit-form" onclick="closeWorkerLogs()">&times;</a>
    <div class="schedule-form">Worker Logs
      <hr>
      <div class="logs" id="worker-logs-box">Worker ID
        <div class="logs-scroll" id="worker-scroll-box">
          <p class="logs-text" id="worker-logs-text"></p>
        </div>
      </div>
    </div>
  </div>

  <textarea class="hidden-text-area" id="hidden-text-area"/>

  <div class="footer">
    <a href="https://github.com/CPSSD/cerberus/">Cerberus MapReduce Project on Github</a>
  </div>


</body>

</html>
